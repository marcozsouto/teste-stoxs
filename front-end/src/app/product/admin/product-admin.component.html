<div id="top" >
    <div class="col-md-3">
        <h3>Products</h3>
        <br>
    </div>
 
    <div class="col-md-6">
        <div class="input-group h2">
            <input [(ngModel)]="filter" class="form-control" placeholder="Type your product Name">
        </div>
    </div>
 
    <div class="col-md-3">
        <button class="btn btn-dark pull-left h2" (click)="openModal()">New Product</button>
    </div>
</div> <!-- /#top -->
  

<div class="shopping__cart__table">
<table class="table table-striped">
    <thead>
        <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Price</th>
            <th>Code</th>
            <th>Rating</th>
            <th>Options</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let product of filteredProducts">
            <td><img [src]="product.imagesUrl[0]" width="40" height="40" ></td>
            <td>{{ product.name }}</td>
            <td>${{ product.price }}</td>
            <td>{{ product.code }}</td>
            <td>
                <app-star [rating]="product.rating"></app-star>
            </td>
            <td>
                <a [routerLink]="['/admin/products/info', product.id]" class="btn btn-primary mr-2">Edit</a>
                <button (click)="deleteById(product.id)" class="btn btn-danger">Delete</button>
            </td>
        </tr>
    </tbody>

</table>
</div>


<ng-template #template>
    <form [formGroup]="form">
    <div class="modal-body">

        <div class="container-fluid">
            <br><h3>Create Product</h3><br>

            <div class="row">
                <div class="col-md-6">
                    <label for="name">Name:<span style="color: red;">*</span></label>
                    <br>
                    <input type="text" id="name">
                </div>
                <div class="col-md-6">
                    <label for="name">Select the pictures:<span style="color: red;">*</span></label>
                    <br>
                    <input type="file" multiple/>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <label for="price">Price:<span style="color: red;">*</span></label>
                    <br>
                    <input type="text" id="price">
                </div>
                <div class="col-md-6">
                    <label for="code">Code:<span style="color: red;">*</span></label>
                    <br>
                    <input type="text" id="code">
                </div>
            </div>

            <br><h4>Options</h4>
            <p>Here you may set the categories and amount the product it has. Example: clothes sizes(S, M, G) or foot size(8, 9, 11)</p>
            
            <div class="row">
                <div class="col-md-12">
                    <label for="rating">Options:<span style="color: red;">*</span></label>
                    <br>
                    <input min="1" type="number" [(ngModel)]="amount" (change) ="thisAmount()">
                </div>
            </div>
            <div class="row" *ngFor="let number of amounts; let i = index">
                <div class="col-md-6">
                    <label for="rating">Name:<span style="color: red;">*</span></label>
                    <br>
                    <input type="name" [formControlName]="number">
                </div>
                <div class="col-md-6">
                    <label for="rating">Number:<span style="color: red;">*</span></label>
                    <br>
                    <input min="1" type="number" value="1" [formControlName]="number">
                </div>
            </div>
            
            <br>
            
            <h4>Last Infos</h4><br>
            <div class="row">
                <div class="col-md-6">
                    <label for="rating">Rating(Number between 0 - 5):<span style="color: red;">*</span></label>
                    <br>
                    <input type="text" id="rating">
                </div>
                <div class="col-md-6">
                    <label for="description">Description:<span style="color: red;">*</span></label>
                    <br>
                    <textarea id="description"  rows="4" cols="40"></textarea>
                </div>
            </div>
            
            <button type="button" class="btn btn-default" (click)="createProduct()" >Yes</button>
            <button type="button" class="btn btn-primary" (click)="decline()" >No</button>
        </div>
    </div>
    </form>
</ng-template>
